{% comment %}
  SHEET / DRAWER COMPONENT
  ------------------------
  Shopify Liquid version of a slide-out Sheet (drawer) UI component.
  Supports top, right, bottom, or left sides.
  
  Usage example:
  {% render 'sheet',
    id: 'cart-sheet',
    title: 'Your Cart',
    content: '<p>Your cart is empty.</p>',
    side: 'right'
  %}
{% endcomment %}

{% assign sheet_id = id | default: 'sheet-' | append: section.id %}
{% assign title = title | default: 'Sheet Title' %}
{% assign content = content | default: '<p>Sheet content here.</p>' %}
{% assign side = side | default: 'right' %}

<style>
  .sheet-overlay {
    position: fixed;
    inset: 0;
    background: rgba(0,0,0,0.5);
    z-index: 40;
    opacity: 0;
    visibility: hidden;
    transition: opacity 0.3s ease, visibility 0.3s ease;
  }
  .sheet-overlay.active {
    opacity: 1;
    visibility: visible;
  }

  .sheet-content {
    position: fixed;
    background: #fff;
    z-index: 50;
    width: 75%;
    max-width: 420px;
    height: 100%;
    overflow-y: auto;
    box-shadow: 0 4px 16px rgba(0,0,0,0.1);
    transform: translateX(100%);
    transition: transform 0.4s ease;
  }

  .sheet-content.left { left: 0; transform: translateX(-100%); }
  .sheet-content.right { right: 0; transform: translateX(100%); }
  .sheet-content.top { top: 0; height: auto; width: 100%; transform: translateY(-100%); }
  .sheet-content.bottom { bottom: 0; height: auto; width: 100%; transform: translateY(100%); }

  .sheet-content.active.right { transform: translateX(0); }
  .sheet-content.active.left { transform: translateX(0); }
  .sheet-content.active.top { transform: translateY(0); }
  .sheet-content.active.bottom { transform: translateY(0); }

  .sheet-header {
    padding: 16px;
    border-bottom: 1px solid rgba(0,0,0,0.08);
    display: flex;
    justify-content: space-between;
    align-items: center;
  }
  .sheet-title {
    font-weight: 600;
    font-size: 16px;
  }
  .sheet-close {
    cursor: pointer;
    background: none;
    border: none;
    padding: 4px;
    font-size: 18px;
    opacity: 0.7;
    transition: opacity 0.2s ease;
  }
  .sheet-close:hover { opacity: 1; }
  .sheet-body { padding: 20px; }
</style>

<div id="{{ sheet_id }}-overlay" class="sheet-overlay"></div>

<div id="{{ sheet_id }}" class="sheet-content {{ side }}">
  <div class="sheet-header">
    <h2 class="sheet-title">{{ title }}</h2>
    <button class="sheet-close" onclick="toggleSheet('{{ sheet_id }}')">&times;</button>
  </div>
  <div class="sheet-body">
    {{ content }}
  </div>
</div>

<script>
  window.toggleSheet = function(id) {
    const sheet = document.getElementById(id);
    const overlay = document.getElementById(id + '-overlay');
    const active = sheet.classList.contains('active');
    sheet.classList.toggle('active', !active);
    overlay.classList.toggle('active', !active);
  };
</script>

{% comment %}
  Add your trigger manually:
  <button onclick="toggleSheet('cart-sheet')">Open Cart</button>
{% endcomment %}
