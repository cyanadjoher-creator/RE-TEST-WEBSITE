{% comment %}
  SELECT DROPDOWN
  ---------------
  Shopify Liquid version of a Select component.
  Recreates a styled dropdown using native `<select>` and `<option>` elements.
  
  Usage Example:
  {% render 'select',
    label: 'Choose size',
    name: 'size',
    options: 'Small,Medium,Large',
    selected: 'Medium'
  %}
{% endcomment %}

{% assign label = label | default: "Select an option" %}
{% assign name = name | default: "select-input" %}
{% assign options = options | split: "," %}
{% assign selected = selected | default: options.first %}
{% assign select_id = id | default: "select-" | append: section.id %}

<style>
  .select-wrapper {
    position: relative;
    display: inline-flex;
    align-items: center;
    width: 100%;
  }

  .select-label {
    display: block;
    margin-bottom: 6px;
    font-size: 13px;
    color: rgba(0, 0, 0, 0.7);
    font-weight: 500;
  }

  .select-element {
    appearance: none;
    width: 100%;
    height: 38px;
    padding: 0 36px 0 12px;
    border: 1px solid rgba(0, 0, 0, 0.15);
    border-radius: 6px;
    font-size: 14px;
    color: #111;
    background-color: white;
    background-image: url("data:image/svg+xml;charset=UTF-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='14' height='14' fill='none' stroke='%23111' stroke-width='1.5' viewBox='0 0 24 24'%3E%3Cpath d='m6 9 6 6 6-6'/%3E%3C/svg%3E");
    background-repeat: no-repeat;
    background-position: right 12px center;
    background-size: 14px;
    transition: border-color 0.2s ease, box-shadow 0.2s ease;
  }

  .select-element:focus-visible {
    outline: none;
    border-color: #111;
    box-shadow: 0 0 0 3px rgba(17, 17, 17, 0.2);
  }

  .select-element:disabled {
    opacity: 0.6;
    cursor: not-allowed;
  }

  .select-element option {
    font-size: 14px;
    color: #111;
  }
</style>

<div class="select-container">
  <label for="{{ select_id }}" class="select-label">{{ label }}</label>
  <div class="select-wrapper">
    <select
      id="{{ select_id }}"
      name="{{ name }}"
      class="select-element"
      aria-label="{{ label }}"
    >
      {% for option in options %}
        {% assign trimmed_option = option | strip %}
        <option value="{{ trimmed_option }}" {% if trimmed_option == selected %}selected{% endif %}>
          {{ trimmed_option }}
        </option>
      {% endfor %}
    </select>
  </div>
</div>
